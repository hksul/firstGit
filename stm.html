<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <link rel="apple-touch-icon" type="image/png" href="https://static.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />
    <!--<meta name="apple-mobile-web-app-title" content="CodePen width=device-width, initial-scale=1.0" >-->
    <link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />
    <link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111" />
    <title>Document</title>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.min.css'>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

    <script>
        window.console = window.console || function(t) {}; 
    </script>
    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>
    <style>
        html, body {width:100%;height:100%;margin:0;padding:0;} 
        .map_wrap {position:relative;overflow:hidden;width:100%;height:350px;}
        .radius_border{border:1px solid #919191;border-radius:5px;}     
        /*
        .custom_typecontrol {position:absolute;top:10px;right:10px;overflow:hidden;width:130px;height:30px;margin:0;padding:0;z-index:1;font-size:12px;font-family:'Malgun Gothic', '맑은 고딕', sans-serif;}
        .custom_typecontrol span {display:block;width:65px;height:30px;float:left;text-align:center;line-height:30px;cursor:pointer;}
        .custom_typecontrol .btn {background:#fff;background:linear-gradient(#fff,  #e6e6e6);}       
        .custom_typecontrol .btn:hover {background:#f5f5f5;background:linear-gradient(#f5f5f5,#e3e3e3);}
        .custom_typecontrol .btn:active {background:#e6e6e6;background:linear-gradient(#e6e6e6, #fff);}    
        .custom_typecontrol .selected_btn {color:#fff;background:#425470;background:linear-gradient(#425470, #5b6d8a);}
        .custom_typecontrol .selected_btn:hover {color:#fff;}   
        */
        /*#mapwrap{position:relative;overflow:hidden;}*/
        .category, .category *{margin:0;padding:0;color:#000;}   
        .category {position:absolute;overflow:hidden;top:10px;left:10px;width:250px;height:50px;z-index:5;border:0px solid black;font-family:'Malgun Gothic','맑은 고딕',sans-serif;font-size:12px;text-align:center;background-color:#fff;border-radius: 5px;}
        .category2 {position:absolute;overflow:hidden;top:10px;right:10px;width:40px;height:38px;z-index:20;border:0px solid black;font-family:'Malgun Gothic','맑은 고딕',sans-serif;font-size:12px;text-align:center;background-color:#fff;}
        .category3 {position:absolute;overflow:visible;top:10px;right:10px;width:40px;height:50px;z-index:10;border:0px solid black;font-family:'Malgun Gothic','맑은 고딕',sans-serif;font-size:12px;text-align:center;background-color:#fff;border-radius: 5px;border:0px;}
        .category .menu_selected {background:#FF5F4A;color:#fff;border-left:0px solid #915B2F;border-right:0px solid #915B2F; border-bottom: -3px; margin:0 0px;} 
        .category li{list-style:none;float:left;width:50px;height:45px;padding-top:5px;cursor:pointer;} 
        .category .ico_comm {display:block;margin:0 auto 2px;width:22px;height:26px;background:url('https://hkhomepage.netlify.app/img/category2.png') no-repeat;} 
        .category .ico_coffee {background-position:-10px 0;}  
        .category .ico_store {background-position:-10px -36px;}   
        .category .ico_carpark {background-position:-10px -138px;}         
        .category .ico_bread {background-position:-10px -102px;} 
        .category .ico_other {background-position:-10px -72px;} 
        .category .ico_current {background:url('https://hkhomepage.netlify.app/img/category2.png'); background-position:-10px -144px;}  
        .custom_zoomcontrol2 {position:absolute;top:60px;right:8px;width:36px;height:34px;overflow:hidden;z-index:1;background-color:#fff;} 
        .custom_zoomcontrol2 span {display:block;width:34px;height:40px;text-align:center;cursor:pointer;line-height: 36px;}     
        
        .custom_zoomcontrol {position:absolute;bottom:15px;right:10px;width:52px;height:34px;overflow:hidden;z-index:1;background-color:#fff;border-radius: 5px;border:1px} 
        .custom_zoomcontrol span {display:block;width:50px;height:40px;text-align:center;cursor:pointer;line-height: 36px;}     
        .custom_zoomcontrol span img {width:15px;height:15px;padding:12px 0;border:none;}             
        .custom_zoomcontrol span:first-child{border-bottom:1px solid #bfbfbf;}            
    </style>
</head>
<body translate="no">
    <!--
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Pricing</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown link
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>
      -->
    <!--
    <div class="container">
        <div class="row">
            
            <div class="col-xs-3">      
                
                <div class="button-group">
                    <button type="button" class="btn btn-default btn-lg dropdown-toggle" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-cog"> 지역</span> 
                    </button>
                    <ul id = "dm1" class="dropdown-menu">
                        <li><a href="#" class="small" data-value="gangdong" tabIndex="-1"><input type="checkbox"/>&nbsp;강동구</a></li>
                        <li><a href="#" class="small" data-value="kangbook" tabIndex="-1"><input type="checkbox"/>&nbsp;강북구</a></li>
                        <li><a href="#" class="small" data-value="gangseo" tabIndex="-1"><input type="checkbox"/>&nbsp;강서구</a></li>
                        <li><a href="#" class="small" data-value="kwanak" tabIndex="-1"><input type="checkbox"/>&nbsp;관악구</a></li>
                        <li><a href="#" class="small" data-value="kwangjin" tabIndex="-1"><input type="checkbox"/>&nbsp;광진구</a></li>
                        <li><a href="#" class="small" data-value="geumcheon" tabIndex="-1"><input type="checkbox"/>&nbsp;금천구</a></li>
                        <li><a href="#" class="small" data-value="guro" tabIndex="-1"><input type="checkbox"/>&nbsp;구로구</a></li>
                        <li><a href="#" class="small" data-value="nowon" tabIndex="-1"><input type="checkbox"/>&nbsp;노원구</a></li>
                        <li><a href="#" class="small" data-value="dobong" tabIndex="-1"><input type="checkbox"/>&nbsp;도봉구</a></li>
                        <li><a href="#" class="small" data-value="dongdaemoon" tabIndex="-1"><input type="checkbox"/>&nbsp;동대문구</a></li>
                        <li><a href="#" class="small" data-value="dongjak" tabIndex="-1"><input type="checkbox"/>&nbsp;동작구</a></li>
                        <li><a href="#" class="small" data-value="mapo" tabIndex="-1"><input type="checkbox"/>&nbsp;마포구</a></li>
                        <li><a href="#" class="small" data-value="seodaemoon" tabIndex="-1"><input type="checkbox"/>&nbsp;서대문구</a></li>
                        <li><a href="#" class="small" data-value="seocho" tabIndex="-1"><input type="checkbox"/>&nbsp;서초구</a></li>
                        <li><a href="#" class="small" data-value="songpa" tabIndex="-1"><input type="checkbox"/>&nbsp;송파구</a></li>
                        <li><a href="#" class="small" data-value="sungdong" tabIndex="-1"><input type="checkbox"/>&nbsp;성동구</a></li>
                        <li><a href="#" class="small" data-value="sungbook" tabIndex="-1"><input type="checkbox"/>&nbsp;성북구</a></li>
                        <li><a href="#" class="small" data-value="yangcheon" tabIndex="-1"><input type="checkbox"/>&nbsp;양천구</a></li>
                        <li><a href="#" class="small" data-value="yungdeungpo" tabIndex="-1"><input type="checkbox"/>&nbsp;영등포구</a></li>
                        <li><a href="#" class="small" data-value="yongsan" tabIndex="-1"><input type="checkbox"/>&nbsp;용산구</a></li>
                        <li><a href="#" class="small" data-value="eunpyoung" tabIndex="-1"><input type="checkbox"/>&nbsp;은평구</a></li>
                        <li><a href="#" class="small" data-value="jongro" tabIndex="-1"><input type="checkbox"/>&nbsp;종로구</a></li>
                        <li><a href="#" class="small" data-value="joonggu" tabIndex="-1"><input type="checkbox"/>&nbsp;중구</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-xs-3">
                <div class="button-group">
                    <button type="button" class="btn btn-default btn-lg dropdown-toggle" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-cog"> 업종</span> 
                    </button>
                    <ul id = "dm2" class="dropdown-menu">
                        <li><a href="#" class="small" data-value="convenience" tabIndex="-1"><input type="checkbox" checked/>&nbsp;편의점</a></li>
                        <li><a href="#" class="small" data-value="food" tabIndex="-1"><input type="checkbox" checked/>&nbsp;음식</a></li>
                        <li><a href="#" class="small" data-value="coffee" tabIndex="-1"><input type="checkbox" checked/>&nbsp;커피</a></li>
                        <li><a href="#" class="small" data-value="bread" tabIndex="-1"><input type="checkbox" checked/>&nbsp;빵집</a></li>
                        <li><a href="#" class="small" data-value="other" tabIndex="-1"><input type="checkbox" checked/>&nbsp;주유소 등</a></li>                    
                    </ul>
                </div>
            </div>
            
        </div>
    </div>
    -->
    <!-- class="col-lg-12" -->
    <div  style="padding-left:0px; padding-right:0px" style="width:100%;height:100%;position:relative;">
        <!--style="width:1200px;height:800px;"-->
    
        <div id="map" style="width:100%;height:800px;position:relative;"></div>
        <!--
        <div class="custom_typecontrol radius_border">
            <span id="btnRoadmap" class="selected_btn" onclick="setMapType('roadmap')">지도</span>
            <span id="btnSkyview" class="btn" onclick="setMapType('skyview')">스카이뷰</span>
        </div>
        -->
        <!-- 지도 확대, 축소 컨트롤 div 입니다 
        <div class="custom_zoomcontrol radius_border"> 
            <span onclick="zoomIn()"><img src="img/ico_plus.png" alt="확대"></span>  
            <span onclick="zoomOut()"><img src="img/ico_minus.png" alt="축소"></span>
        </div>
         -->
            <div class="category  shadow mb-5">
                <ul>
                    <li id="coffeeMenu" onclick="changeMarker('coffee')">
                        <span class="ico_comm ico_coffee z-depth-5"></span>
                        커피숍
                    </li>
                    <li id="storeMenu" onclick="changeMarker('convenience')">
                        <span class="ico_comm ico_store shadow"></span>
                        편의점
                    </li>
                    <li id="carparkMenu" onclick="changeMarker('food')">
                        <span class="ico_comm ico_carpark z-depth-5"></span>
                        음식점
                    </li>
                    <li id="breadMenu" onclick="changeMarker('bread')">
                        <span class="ico_comm ico_bread z-depth-5"></span>
                        빵집
                    </li>
                    <li id="otherMenu" onclick="changeMarker('other')">
                        <span class="ico_comm ico_other z-depth-5"></span>
                        <div style="font-size:11px;">주유/주차</div>
                    </li>
                    <!--
                    <li id="aMenu" onclick="moveToCurrent()">
                        <span class="ico_comm ico_current"></span>
                        현재
                    </li>
                    
                    -->
                    
                </ul>
            </div>
            <!--
            <div class="category2">
                <ul>        
                    <li id="aMenu" onclick="moveToCurrent()">
                        <span class="ico_current"></span>
                        현재
                    </li>
                </ul>
            </div>
            -->
            <!--
            <div style="font-size:15px;">내 위치</div>
                <span onclick="moveToCurrent()" ><img src = "img/myLoc.png" height="20" size="50" >2</span>
            <span onclick="moveToCurrent()" ><img src = "img/myLoc.png" height="20" width="50" ></span>
            <div class="line-height: 46px; margin-top: 10px;">
                <img src="img/myLoc.png" height="20" width="50"  onclick="moveToCurrent()"> 
                </div>        
            -->
            <div class="custom_zoomcontrol shadow mb-5">         
                <div class="line-height: 46px; margin-top: 10px;">
                    <img src="img/myLoc.png" height="20" width="50"  onclick="moveToCurrent()"> 
                    </div>        
            </div>
             <!--
            <div class="category3  " >
            
            
                 
                
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    설정
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <a class="dropdown-item" href="#">Action</a>
                      <a class="dropdown-item" href="#">Another action</a>
                      <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </div>
                 
                
            </div>-->
            
            <div class="button-group  shadow mb-50">
                <button type="button" class="btn btn-default btn-lg dropdown-toggle" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-cog"></span> 
                    
                    설정
                </button>
                <ul id = "dm1" class="dropdown-menu dropdown-menu-right">
                    <li><a href="#" class="small" data-value="gangdong" tabIndex="-1"><input type="checkbox"/>&nbsp;강동구</a></li>
                    <li><a href="#" class="small" data-value="kangbook" tabIndex="-1"><input type="checkbox"/>&nbsp;강북구</a></li>
                    <li><a href="#" class="small" data-value="gangseo" tabIndex="-1"><input type="checkbox"/>&nbsp;강서구</a></li>
                    <li><a href="#" class="small" data-value="kwanak" tabIndex="-1"><input type="checkbox"/>&nbsp;관악구</a></li>
                    <li><a href="#" class="small" data-value="kwangjin" tabIndex="-1"><input type="checkbox"/>&nbsp;광진구</a></li>
                    <li><a href="#" class="small" data-value="geumcheon" tabIndex="-1"><input type="checkbox"/>&nbsp;금천구</a></li>
                    <li><a href="#" class="small" data-value="guro" tabIndex="-1"><input type="checkbox"/>&nbsp;구로구</a></li>
                    <li><a href="#" class="small" data-value="nowon" tabIndex="-1"><input type="checkbox"/>&nbsp;노원구</a></li>
                    <li><a href="#" class="small" data-value="dobong" tabIndex="-1"><input type="checkbox"/>&nbsp;도봉구</a></li>
                    <li><a href="#" class="small" data-value="dongdaemoon" tabIndex="-1"><input type="checkbox"/>&nbsp;동대문구</a></li>
                    <li><a href="#" class="small" data-value="dongjak" tabIndex="-1"><input type="checkbox"/>&nbsp;동작구</a></li>
                    <li><a href="#" class="small" data-value="mapo" tabIndex="-1"><input type="checkbox"/>&nbsp;마포구</a></li>
                    <li><a href="#" class="small" data-value="seodaemoon" tabIndex="-1"><input type="checkbox"/>&nbsp;서대문구</a></li>
                    <li><a href="#" class="small" data-value="seocho" tabIndex="-1"><input type="checkbox"/>&nbsp;서초구</a></li>
                    <li><a href="#" class="small" data-value="songpa" tabIndex="-1"><input type="checkbox"/>&nbsp;송파구</a></li>
                    <li><a href="#" class="small" data-value="sungdong" tabIndex="-1"><input type="checkbox"/>&nbsp;성동구</a></li>
                    <li><a href="#" class="small" data-value="sungbook" tabIndex="-1"><input type="checkbox"/>&nbsp;성북구</a></li>
                    <li><a href="#" class="small" data-value="yangcheon" tabIndex="-1"><input type="checkbox"/>&nbsp;양천구</a></li>
                    <li><a href="#" class="small" data-value="yungdeungpo" tabIndex="-1"><input type="checkbox"/>&nbsp;영등포구</a></li>
                    <li><a href="#" class="small" data-value="yongsan" tabIndex="-1"><input type="checkbox"/>&nbsp;용산구</a></li>
                    <li><a href="#" class="small" data-value="eunpyoung" tabIndex="-1"><input type="checkbox"/>&nbsp;은평구</a></li>
                    <li><a href="#" class="small" data-value="jongro" tabIndex="-1"><input type="checkbox"/>&nbsp;종로구</a></li>
                    <li><a href="#" class="small" data-value="joonggu" tabIndex="-1"><input type="checkbox"/>&nbsp;중구</a></li>
                </ul>
            </div> 


        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f5162422d11ed424bcdaa4cf2ddefa2a"></script>
        <script>
            /*
            var geocoder = new kakao.maps.services.Geocoder();

            var marker2 = new kakao.maps.Marker(), // 클릭한 위치를 표시할 마커입니다
                infowindow = new kakao.maps.InfoWindow({zindex:1}); // 클릭한 위치에 대한 주소를 표시할 인포윈도우입니다

            // 현재 지도 중심좌표로 주소를 검색해서 지도 좌측 상단에 표시합니다
            function searchAddrFromCoords(coords, callback) {
                // 좌표로 행정동 주소 정보를 요청합니다
                geocoder.coord2RegionCode(coords.getLng(), coords.getLat(), callback);         
            }
            function displayCenterInfo(result, status) {
                if (status === kakao.maps.services.Status.OK) {
                    var infoDiv = document.getElementById('centerAddr');

                    for(var i = 0; i < result.length; i++) {
                        // 행정동의 region_type 값은 'H' 이므로
                        if (result[i].region_type === 'H') {
                            infoDiv.innerHTML = result[i].address_name;
                            break;
                        }
                    }
                }    
            }
            searchAddrFromCoords(map.getCenter(), displayCenterInfo);
            kakao.maps.event.addListener(map, 'idle', function() {
                searchAddrFromCoords(map.getCenter(), displayCenterInfo);
            });
            */
            //'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_red.png'
            var imageSrc = 'img/marker_red5.png', // 마커이미지의 주소입니다    
                imageSize = new kakao.maps.Size(64, 69), // 마커이미지의 크기입니다
                imageOption = {offset: new kakao.maps.Point(27, 69)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.
            var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption)
 

            var container = document.getElementById('map');
            var options = {
                center: new kakao.maps.LatLng(33.450701, 126.570667),
                level: 4                
            };
            var markerImageSrc2 = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/category.png';  // 마커이미지의 주소입니다. 스프라이트 이미지 입니다
            var map = new kakao.maps.Map(container, options);
            var markers = {};
            var optionList = ['dongjak','sungdong','jongro','yongsan','joonggu' ,'dongdaemoon' ,'seocho' ,'mapo' ,'kwanak' ,'kwangjin' ,'songpa' ,'seodaemoon' ,'guro'  ,'nowon','dobong','gangseo','gangdong','sungbook','kangbook','yangcheon','eunpyoung','geumcheon','yungdeungpo']
            var typeList = ['coffee', 'food', 'convenience', 'other', 'bread']
            for (var i = 0; i < optionList.length; i++) {
                markers[optionList[i]] = {}
                for (var j = 0; j < typeList.length; j++) {
                    markers[optionList[i]][typeList[j]] = [];
                }
            }
            if (navigator.geolocation) {
                
                // GeoLocation을 이용해서 접속 위치를 얻어옵니다
                navigator.geolocation.getCurrentPosition(function(position) {
                    
                    var lat = position.coords.latitude, // 위도
                        lon = position.coords.longitude; // 경도
                    
                    var locPosition = new kakao.maps.LatLng(lat, lon), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
                        message = '<div style="padding:5px;">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다
                    
                    // 마커와 인포윈도우를 표시합니다
                    //displayMarker(locPosition, message);
                    displayMarker(locPosition, ''); 
                        
                });
                
            } else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다
                
                var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
                    message = 'geolocation을 사용할수 없어요..'
                    
                displayMarker(locPosition, message);
            }
            container.style.height =  window.innerHeight+"px"; 
            //resizeMap();
            function resizeMap() {
                //var $window = $(window);
                var mapContainer = document.getElementById('map');
                mapContainer.style.width = window.innerWidth+"px";
                container.style.height =  window.innerHeight+"px"; 
            }
            function displayMarker(locPosition, message) {

                // 마커를 생성합니다
                var marker = new kakao.maps.Marker({  
                    map: map, 
                    position: locPosition,
                    image: markerImage ,
                    zIndex: 3
                });  
                if (message !=  '') {

                    var iwContent = message, // 인포윈도우에 표시할 내용
                        iwRemoveable = true; 

                    // 인포윈도우를 생성합니다
                    var infowindow = new kakao.maps.InfoWindow({
                        content : iwContent,
                        removable : iwRemoveable
                    });

                    // 인포윈도우를 마커위에 표시합니다 
                    infowindow.open(map, marker);
                }

                // 지도 중심좌표를 접속위치로 변경합니다
                //map.setCenter(locPosition);      
                map.panTo(locPosition);      
            }   
            function showMarkerType(val){
                for (var i = 0; i < regions.length; i++) {
                    for (var j = 0; j < dataPositions2[regions[i]][val].length; j++) {
                        addMarker(regions[i], val, dataPositions2[regions[i]][val][j].lat, dataPositions2[regions[i]][val][j].lng, dataPositions2[regions[i]][val][j].title);
                        //Do something
                    }
                    setMarkers(regions[i], val, map) ;      
                    console.log("adding marker ", regions[i], val); 
                }
            } 
            function hideMarkerType(val){
                for (var i = 0; i < regions.length; i++) {
                      
                        setMarkers(regions[i], val, null) ;     

                        console.log("deleting marker ", regions[i], val);
                    }
            }
            function changeMarker(type){
                
                var coffeeMenu = document.getElementById('coffeeMenu');
                var storeMenu = document.getElementById('storeMenu');
                var carparkMenu = document.getElementById('carparkMenu');
                var breadMenu = document.getElementById('breadMenu');
                var otherMenu = document.getElementById('otherMenu');
                
                // 커피숍 카테고리가 클릭됐을 때
                if (type === 'coffee') {
                
                    // 커피숍 카테고리를 선택된 스타일로 변경하고
                    coffeeMenu.className = 'menu_selected';
                    storeMenu.className = '';
                    carparkMenu.className = '';
                    breadMenu.className = '';
                    otherMenu.className = '';
                    
                    // 커피숍 마커들만 지도에 표시하도록 설정합니다
                    showMarkerType("coffee")
                    hideMarkerType("food")
                    hideMarkerType("convenience")
                    hideMarkerType("bread")
                    hideMarkerType("other")
                    
                
                    
                } else if (type === 'convenience') { // 편의점 카테고리가 클릭됐을 때
                
                    // 편의점 카테고리를 선택된 스타일로 변경하고
                    coffeeMenu.className = '';
                    storeMenu.className = 'menu_selected';
                    carparkMenu.className = '';
                    breadMenu.className = '';
                    otherMenu.className = '';
                    
                    
                    // 편의점 마커들만 지도에 표시하도록 설정합니다
                    showMarkerType("convenience")
                    hideMarkerType("food")
                    hideMarkerType("coffee")
                    hideMarkerType("bread")
                    hideMarkerType("other")
                    
                } else if (type === 'food') { // 주차장 카테고리가 클릭됐을 때
                
                    // 주차장 카테고리를 선택된 스타일로 변경하고
                    coffeeMenu.className = '';
                    storeMenu.className = '';
                    carparkMenu.className = 'menu_selected';
                    breadMenu.className = '';
                    otherMenu.className = '';
                    
                    
                    // 주차장 마커들만 지도에 표시하도록 설정합니다
                    showMarkerType("food")
                    hideMarkerType("convenience")
                    hideMarkerType("coffee")
                    hideMarkerType("bread")
                    hideMarkerType("other")
                }    else if (type === 'bread') { // 주차장 카테고리가 클릭됐을 때
                    
                    // 주차장 카테고리를 선택된 스타일로 변경하고
                    coffeeMenu.className = '';
                    storeMenu.className = '';
                    carparkMenu.className ='';
                    breadMenu.className = 'menu_selected';
                    otherMenu.className = '';
                    
                    
                    // 주차장 마커들만 지도에 표시하도록 설정합니다
                    showMarkerType("bread")
                    hideMarkerType("food")
                    hideMarkerType("coffee")
                    hideMarkerType("convenience")
                    hideMarkerType("other")
                }    else if (type === 'other') { // 주차장 카테고리가 클릭됐을 때
                    
                    // 주차장 카테고리를 선택된 스타일로 변경하고
                    coffeeMenu.className = '';
                    storeMenu.className = '';
                    carparkMenu.className ='';
                    breadMenu.className = '';
                    otherMenu.className = 'menu_selected';
                    
                    
                    // 주차장 마커들만 지도에 표시하도록 설정합니다
                    showMarkerType("other")
                    hideMarkerType("food")
                    hideMarkerType("coffee")
                    hideMarkerType("bread")
                    hideMarkerType("convenience")
                }    
            } 
            /*
            function setMapType(maptype) { 
                var roadmapControl = document.getElementById('btnRoadmap');
                var skyviewControl = document.getElementById('btnSkyview'); 
                if (maptype === 'roadmap') {
                    map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);    
                    roadmapControl.className = 'selected_btn';
                    skyviewControl.className = 'btn';
                } else {
                    map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);    
                    skyviewControl.className = 'selected_btn';
                    roadmapControl.className = 'btn';
                }
            }
            */
            function moveToCurrent() {
                //var aMenu = document.getElementById('aMenu');
                //aMenu.className = 'menu_selected';
                
                if (navigator.geolocation) {
                    
                    // GeoLocation을 이용해서 접속 위치를 얻어옵니다
                    navigator.geolocation.getCurrentPosition(function(position) {
                        
                        
                        
                        var moveLatLon = new kakao.maps.LatLng(position.coords.latitude,  position.coords.longitude);
                        
                        // 지도 중심을 부드럽게 이동시킵니다
                        // 만약 이동할 거리가 지도 화면보다 크면 부드러운 효과 없이 이동합니다
                        //map.setCenter(moveLatLon);   
                        map.panTo(moveLatLon);   
                            
                    });
                    //map.setLevel(4);
                    
                }
                
                      
            }
            // 지도 확대, 축소 컨트롤에서 확대 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
            function zoomIn() {
                map.setLevel(map.getLevel() - 1);
            }

            // 지도 확대, 축소 컨트롤에서 축소 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
            function zoomOut() {
                map.setLevel(map.getLevel() + 1);
            }
            /*
            zoomIn()
            zoomOut()
            zoomOut()
            var geocoder = new kakao.maps.services.Geocoder();

            var marker2 = new kakao.maps.Marker(), // 클릭한 위치를 표시할 마커입니다
                infowindow = new kakao.maps.InfoWindow({zindex:1}); // 클릭한 위치에 대한 주소를 표시할 인포윈도우입니다

            // 현재 지도 중심좌표로 주소를 검색해서 지도 좌측 상단에 표시합니다
            function searchAddrFromCoords(coords, callback) {
                // 좌표로 행정동 주소 정보를 요청합니다
                geocoder.coord2RegionCode(coords.getLng(), coords.getLat(), callback);         
            }
            function displayCenterInfo(result, status) {
                if (status === kakao.maps.services.Status.OK) {
                    var infoDiv = document.getElementById('centerAddr');

                    for(var i = 0; i < result.length; i++) {
                        // 행정동의 region_type 값은 'H' 이므로
                        if (result[i].region_type === 'H') {
                            infoDiv.innerHTML = result[i].address_name;
                            break;
                        }
                    }
                }    
            }
            searchAddrFromCoords(map.getCenter(), displayCenterInfo);
            kakao.maps.event.addListener(map, 'idle', function() {
                searchAddrFromCoords(map.getCenter(), displayCenterInfo);
            });

            */
            


        </script>
    </div>
    <!--
    <form action="https://www.google.com/search" method="GET">
        //<input type="text">
        <div class="search-bar input-group mb-3 mx-auto mt-5 ">
            <input name="q" type="text" class="form-control rounded-pill" placeholder="Google 검색어를 입력하세요" aria-label="Recipient's username" aria-describedby="basic-addon2">
            
        </div>
    </form>
    <button id = "bToggle">Toggle</button>
    <br />
    -->
    
    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js'></script>
  
    <script src='js/data.js'></script>
    <script src='js/data.json'></script>
    <script id="rendered-js">
        var regions = [];
        var types = ['coffee', 'food', 'convenience', 'other', 'bread']
        var infowindow = new kakao.maps.InfoWindow({zIndex:1});
        /*
        var tmpPosition = new kakao.maps.LatLng(37.49887, 127.026581);  
        var customOverlay = new kakao.maps.CustomOverlay({
            position: tmpPosition,
            content: '',
            xAnchor: 0.3,
            yAnchor: 0.91
        });
        var clickedOverlay = null;
        */


        $('.dropdown-menu a').on('click', function (event) {
        
            var $target = $(event.currentTarget),
            val = $target.attr('data-value'),
            $inp = $target.find('input'),
            idx;
        
            if ((idx = optionList.indexOf(val)) > -1) {
                if ((idx = regions.indexOf(val)) > -1) {
                    regions.splice(idx, 1);
                    setTimeout(function () {$inp.prop('checked', false);}, 0);
                } else {
                    regions.push(val);
                    setTimeout(function () {$inp.prop('checked', true);}, 0);
                }
            }
        
            if ((idx = typeList.indexOf(val)) > -1) {
                if ((idx = types.indexOf(val)) > -1) {
                    types.splice(idx, 1);

                    setTimeout(function () {$inp.prop('checked', false);}, 0);
                } else {
                    types.push(val);
                    setTimeout(function () {$inp.prop('checked', true);}, 0);
                    
                }
            }

            $(event.target).blur();

            if (optionList.indexOf(val) >= 0) {
                if ((idx = regions.indexOf(val)) > -1) {
                    console.log("clicking drop1", val);
                    Object.keys(dataPositions2[val]).forEach(function(key) {
                        for (var j = 0; j < dataPositions2[val][key].length; j ++) {
                    
                            addMarker(val, key, dataPositions2[val][key][j].lat, dataPositions2[val][key][j].lng, dataPositions2[val][key][j].title);
                        }
                        console.log("adding  marker ", val, key);
                        setMarkers(val, key, map) ;                            
                    });
                    
                } else {
                    console.log("unclicking drop1", val);
                    Object.keys(dataPositions2[val]).forEach(function(key) {
                        setMarkers(val, key, null) ;
                        console.log("deleting marker ", val, key);
                    });
                };
            } else if (typeList.indexOf(val) >= 0){

                if ((idx = types.indexOf(val)) > -1) {
                    console.log("clicking drop2", val);
                    for (var i = 0; i < regions.length; i++) {
                        for (var j = 0; j < dataPositions2[regions[i]][val].length; j++) {
                             addMarker(regions[i], val, dataPositions2[regions[i]][val][j].lat, dataPositions2[regions[i]][val][j].lng, dataPositions2[regions[i]][val][j].title);
                            //Do something
                        }
                        setMarkers(regions[i], val, map) ;      
                        console.log("adding marker ", regions[i], val); 
                    }
                }
                else {
                    console.log("unclicking drop2", val);
                    for (var i = 0; i < regions.length; i++) {
                        /*
                        for (var j = 0; j < dataPositions2[options[i]][val].length; j++) {
                            //addMarker(options[i],  val, dataPositions2[options[i]][val][j].lat, dataPositions2[options[i]][val][j].lng);
                            //setMarkers(val, key, null) ;       
                            //Do something
                        }
                        */
                        setMarkers(regions[i], val, null) ;     

                        console.log("deleting marker ", regions[i], val);
                    }
                }
            }
            
            
        
            console.log(regions);
            console.log(types)
            return false;
        });
        /*
        function addMarker(name, position) {
    
            // 마커를 생성합니다
            var marker = new kakao.maps.Marker({
                position: position
            });

            // 마커가 지도 위에 표시되도록 설정합니다
            marker.setMap(map);
            
            // 생성된 마커를 배열에 추가합니다
            markers[name].push(marker);
        }*/
        function addMarker(name, k2,  x, y, title) {
    
            // 마커를 생성합니다
            var markerX = new kakao.maps.Marker({
                position: new kakao.maps.LatLng(y, x),
                zIndex:2
            });

            // 마커가 지도 위에 표시되도록 설정합니다
            markerX.setMap(map);
            
            //var infowindow = new kakao.maps.InfoWindow({
            //    content:title// 인포윈도우에 표시할 내용
            //});

            // 마커에 mouseover 이벤트와 mouseout 이벤트를 등록합니다
            // 이벤트 리스너로는 클로저를 만들어 등록합니다 
            // for문에서 클로저를 만들어 주지 않으면 마지막 마커에만 이벤트가 등록됩니다 
            //kakao.maps.event.addListener(markerX, 'mouseover', makeOverListener(map, markerX, infowindow));            
            //kakao.maps.event.addListener(markerX, 'mouseout', makeOutListener(infowindow));
            //kakao.maps.event.addListener(markerX, 'click', makeOverListener(map, markerX, infowindow));
            kakao.maps.event.addListener(markerX, 'click', function() {
                // 마커를 클릭하면 장소명이 인포윈도우에 표출됩니다
                
                infowindow.setContent('<div style="padding:5px;font-size:15px;">' + title + '</div>');
                infowindow.open(map, markerX);
                //map.setLevel(4)
                map.panTo(new kakao.maps.LatLng(y, x));   

                //customOverlay.setMap(map);
                //customOverlay.setContent('<div style="padding:5px;font-size:12px;">' + title + '</div>');
                //customOverlay.open(map, markerX);

                /*
                if (clickedOverlay) {
                        clickedOverlay.setMap(null);
                    }
                    customOverlay.setContent('<div style="padding:5px;font-size:12px;">' + title + '</div>');
                    customOverlay.setMap(map);
                    customOverlay.setCenter(y,x)
                    clickedOverlay = customOverlay;
                });
                */
                
                
            });
            // 생성된 마커를 배열에 추가합니다
            console.log("sdfsd", name, k2,  x, y, title);
            markers[name][k2].push(markerX);
            
        } 
        function makeOverListener(map, marker, infowindow) {
            return function() {
                infowindow.open(map, marker);
            };
        }

        // 인포윈도우를 닫는 클로저를 만드는 함수입니다 
        function makeOutListener(infowindow) {
            return function() {
                infowindow.close();
            };
        }
        function setMarkers(name, k2, map) {
            for (var l = 0; l < markers[name][k2].length; l++) {
                markers[name][k2][l].setMap(map);
                console.log(name, k2, l, map)
            }            
        }
        /*
        // "마커 보이기" 버튼을 클릭하면 호출되어 배열에 추가된 마커를 지도에 표시하는 함수입니다
        function showMarkers() {
            setMarkers(map)    
        }

        // "마커 감추기" 버튼을 클릭하면 호출되어 배열에 추가된 마커를 지도에서 삭제하는 함수입니다
        function hideMarkers() {
            setMarkers(null);    
        }
        */
        //# sourceURL=pen.js
    </script>

</body>
</html>