<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
    <link rel="apple-touch-icon" type="image/png" href="https://static.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png" />
    <meta name="apple-mobile-web-app-title" content="CodePen width=device-width, initial-scale=1.0" >
    <link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />
    <link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111" />
    <title>Document</title>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.min.css'>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

    <script>
        window.console = window.console || function(t) {};
    </script>
    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>
    <style>
        html, body {width:100%;height:100%;margin:0;padding:0;} 
        .map_wrap {position:relative;overflow:hidden;width:100%;height:350px;}
        .radius_border{border:1px solid #919191;border-radius:5px;}     
        /*
        .custom_typecontrol {position:absolute;top:10px;right:10px;overflow:hidden;width:130px;height:30px;margin:0;padding:0;z-index:1;font-size:12px;font-family:'Malgun Gothic', '맑은 고딕', sans-serif;}
        .custom_typecontrol span {display:block;width:65px;height:30px;float:left;text-align:center;line-height:30px;cursor:pointer;}
        .custom_typecontrol .btn {background:#fff;background:linear-gradient(#fff,  #e6e6e6);}       
        .custom_typecontrol .btn:hover {background:#f5f5f5;background:linear-gradient(#f5f5f5,#e3e3e3);}
        .custom_typecontrol .btn:active {background:#e6e6e6;background:linear-gradient(#e6e6e6, #fff);}    
        .custom_typecontrol .selected_btn {color:#fff;background:#425470;background:linear-gradient(#425470, #5b6d8a);}
        .custom_typecontrol .selected_btn:hover {color:#fff;}   
        */
        .custom_zoomcontrol {position:absolute;top:50px;right:10px;width:36px;height:80px;overflow:hidden;z-index:1;background-color:#f5f5f5;} 
        .custom_zoomcontrol span {display:block;width:36px;height:40px;text-align:center;cursor:pointer;}     
        .custom_zoomcontrol span img {width:15px;height:15px;padding:12px 0;border:none;}             
        .custom_zoomcontrol span:first-child{border-bottom:1px solid #bfbfbf;}            
    </style>
</head>
<body translate="no">
    <div class="container">
        <div class="row">
            <div class="col-sm-11"><h1><span>제로페이 맵 - ZeroPay Mobile Map</span></h1> </div>
            <div class="col-sm-1">
                  
                <div class="button-group">
                    <button type="button" class="btn btn-default btn-lg dropdown-toggle" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-cog"></span> 
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href="#" class="small" data-value="option1" tabIndex="-1"><input type="checkbox"/>&nbsp;강동구</a></li>
                        <li><a href="#" class="small" data-value="option2" tabIndex="-1"><input type="checkbox"/>&nbsp;강북구</a></li>
                        <li><a href="#" class="small" data-value="option3" tabIndex="-1"><input type="checkbox"/>&nbsp;강서구</a></li>
                        <li><a href="#" class="small" data-value="option4" tabIndex="-1"><input type="checkbox"/>&nbsp;관악구</a></li>
                        <li><a href="#" class="small" data-value="option5" tabIndex="-1"><input type="checkbox"/>&nbsp;광진구</a></li>
                        <li><a href="#" class="small" data-value="option6" tabIndex="-1"><input type="checkbox"/>&nbsp;금천구</a></li>
                        <li><a href="#" class="small" data-value="option7" tabIndex="-1"><input type="checkbox"/>&nbsp;구로구</a></li>
                        <li><a href="#" class="small" data-value="option8" tabIndex="-1"><input type="checkbox"/>&nbsp;노원구</a></li>
                        <li><a href="#" class="small" data-value="option9" tabIndex="-1"><input type="checkbox"/>&nbsp;도봉구</a></li>
                        <li><a href="#" class="small" data-value="option10" tabIndex="-1"><input type="checkbox"/>&nbsp;동대문구</a></li>
                        <li><a href="#" class="small" data-value="option11" tabIndex="-1"><input type="checkbox"/>&nbsp;동작구</a></li>
                        <li><a href="#" class="small" data-value="option12" tabIndex="-1"><input type="checkbox"/>&nbsp;마포구</a></li>
                        <li><a href="#" class="small" data-value="option13" tabIndex="-1"><input type="checkbox"/>&nbsp;서대문구</a></li>
                        <li><a href="#" class="small" data-value="option14" tabIndex="-1"><input type="checkbox"/>&nbsp;서초구</a></li>
                        <li><a href="#" class="small" data-value="option15" tabIndex="-1"><input type="checkbox"/>&nbsp;송파구</a></li>
                        <li><a href="#" class="small" data-value="option16" tabIndex="-1"><input type="checkbox"/>&nbsp;성동구</a></li>
                        <li><a href="#" class="small" data-value="option17" tabIndex="-1"><input type="checkbox"/>&nbsp;성북구</a></li>
                        <li><a href="#" class="small" data-value="option18" tabIndex="-1"><input type="checkbox"/>&nbsp;양천구</a></li>
                        <li><a href="#" class="small" data-value="option19" tabIndex="-1"><input type="checkbox"/>&nbsp;영등포구</a></li>
                        <li><a href="#" class="small" data-value="option20" tabIndex="-1"><input type="checkbox"/>&nbsp;용산구</a></li>
                        <li><a href="#" class="small" data-value="option21" tabIndex="-1"><input type="checkbox"/>&nbsp;은평구</a></li>
                        <li><a href="#" class="small" data-value="option22" tabIndex="-1"><input type="checkbox"/>&nbsp;종로구</a></li>
                        <li><a href="#" class="small" data-value="option23" tabIndex="-1"><input type="checkbox"/>&nbsp;중구</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-12">
        <!--style="width:1200px;height:800px;"-->
    
        <div id="map" style="width:100%;height:600px;position:relative;"></div>
        <!--
        <div class="custom_typecontrol radius_border">
            <span id="btnRoadmap" class="selected_btn" onclick="setMapType('roadmap')">지도</span>
            <span id="btnSkyview" class="btn" onclick="setMapType('skyview')">스카이뷰</span>
        </div>
        -->
        <!-- 지도 확대, 축소 컨트롤 div 입니다 -->
        <div class="custom_zoomcontrol radius_border"> 
            <span onclick="zoomIn()"><img src="img/ico_plus.png" alt="확대"></span>  
            <span onclick="zoomOut()"><img src="img/ico_minus.png" alt="축소"></span>
        </div>
            
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f5162422d11ed424bcdaa4cf2ddefa2a"></script>
        <script>
            var container = document.getElementById('map');
            var options = {
                center: new kakao.maps.LatLng(33.450701, 126.570667),
                level: 3
            };

            var map = new kakao.maps.Map(container, options);
            var markers = [];
            if (navigator.geolocation) {
                
                // GeoLocation을 이용해서 접속 위치를 얻어옵니다
                navigator.geolocation.getCurrentPosition(function(position) {
                    
                    var lat = position.coords.latitude, // 위도
                        lon = position.coords.longitude; // 경도
                    
                    var locPosition = new kakao.maps.LatLng(lat, lon), // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
                        message = '<div style="padding:5px;">여기에 계신가요?!</div>'; // 인포윈도우에 표시될 내용입니다
                    
                    // 마커와 인포윈도우를 표시합니다
                    displayMarker(locPosition, message);
                        
                });
                
            } else { // HTML5의 GeoLocation을 사용할 수 없을때 마커 표시 위치와 인포윈도우 내용을 설정합니다
                
                var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
                    message = 'geolocation을 사용할수 없어요..'
                    
                displayMarker(locPosition, message);
            }
            function displayMarker(locPosition, message) {

                // 마커를 생성합니다
                var marker = new kakao.maps.Marker({  
                    map: map, 
                    position: locPosition
                }); 

                var iwContent = message, // 인포윈도우에 표시할 내용
                    iwRemoveable = true;

                // 인포윈도우를 생성합니다
                var infowindow = new kakao.maps.InfoWindow({
                    content : iwContent,
                    removable : iwRemoveable
                });

                // 인포윈도우를 마커위에 표시합니다 
                infowindow.open(map, marker);

                // 지도 중심좌표를 접속위치로 변경합니다
                map.setCenter(locPosition);      
            }    
            /*
            function setMapType(maptype) { 
                var roadmapControl = document.getElementById('btnRoadmap');
                var skyviewControl = document.getElementById('btnSkyview'); 
                if (maptype === 'roadmap') {
                    map.setMapTypeId(kakao.maps.MapTypeId.ROADMAP);    
                    roadmapControl.className = 'selected_btn';
                    skyviewControl.className = 'btn';
                } else {
                    map.setMapTypeId(kakao.maps.MapTypeId.HYBRID);    
                    skyviewControl.className = 'selected_btn';
                    roadmapControl.className = 'btn';
                }
            }
            */

            // 지도 확대, 축소 컨트롤에서 확대 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
            function zoomIn() {
                map.setLevel(map.getLevel() - 1);
            }

            // 지도 확대, 축소 컨트롤에서 축소 버튼을 누르면 호출되어 지도를 확대하는 함수입니다
            function zoomOut() {
                map.setLevel(map.getLevel() + 1);
            }
        </script>
    </div>
    <form action="https://www.google.com/search" method="GET">
        <!--<input type="text">-->
        <div class="search-bar input-group mb-3 mx-auto mt-5 ">
            <input name="q" type="text" class="form-control rounded-pill" placeholder="Google 검색어를 입력하세요" aria-label="Recipient's username" aria-describedby="basic-addon2">
            
        </div>
    </form>
    <button id = "bToggle">Toggle</button>
    <br />
    
    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js'></script>
    <script>
        $(document).ready(function(){
            $("#bToggle").click(function(){
                $("#span-1").toggle();
            });
        });
    </script>
    <script src='js/data.js'></script>
    <script id="rendered-js">
        var options = [];
        
   
        $('.dropdown-menu a').on('click', function (event) {
        
            var $target = $(event.currentTarget),
            val = $target.attr('data-value'),
            $inp = $target.find('input'),
            idx;
        
            if ((idx = options.indexOf(val)) > -1) {
                options.splice(idx, 1);
                setTimeout(function () {$inp.prop('checked', false);}, 0);
            } else {
                options.push(val);
                setTimeout(function () {$inp.prop('checked', true);}, 0);
            }
        
            $(event.target).blur();

            
            if (val=="option2") {
                if ((idx = options.indexOf(val)) > -1) {
                    Object.keys(dataPositions[val]).forEach(function(key1) {
                        for (var j = 0; j < dataPositions[val][key].length; j ++) {
                    
                            addMarker(positions[val][j].latlng);
                        }
                                                
                    }
                    setMarkers(map) ;
                } else {
                    setMarkers(null) ;
                };
                

            } else if (val == "option1") {
                addMarker(new kakao.maps.LatLng(34.450701, 126.570667));
            }; 
            
            
        
            console.log(options);
            return false;
        });
        function addMarker(position) {
    
            // 마커를 생성합니다
            var marker = new kakao.maps.Marker({
                position: position
            });

            // 마커가 지도 위에 표시되도록 설정합니다
            marker.setMap(map);
            
            // 생성된 마커를 배열에 추가합니다
            markers.push(marker);
        }

        function setMarkers(map) {
            for (var i = 0; i < markers.length; i++) {
                markers[i].setMap(map);
            }            
        }

        // "마커 보이기" 버튼을 클릭하면 호출되어 배열에 추가된 마커를 지도에 표시하는 함수입니다
        function showMarkers() {
            setMarkers(map)    
        }

        // "마커 감추기" 버튼을 클릭하면 호출되어 배열에 추가된 마커를 지도에서 삭제하는 함수입니다
        function hideMarkers() {
            setMarkers(null);    
        }
        //# sourceURL=pen.js
    </script>

</body>
</html>